{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Popup.js","components/PopupWithImage.js","components/ui/Input.js","components/PopupWithForm.js","components/EditProfilePopup.js","utils/Api.js","utils/constants.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logo","alt","Footer","Date","getFullYear","CurrentUserContext","React","createContext","Card","onCardClick","url","title","likes","ownerId","cardId","onCardLike","onCardDelete","userId","useContext","_id","isLiked","some","item","onClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","onLike","onDelete","name","about","avatar","map","owner","key","link","Popup","isOpen","onClose","children","PopupWithImage","card","Input","pattern","required","placeholder","value","maxLength","minLength","onChange","type","update","useState","isInputValid","setIsInputValid","validationMessage","setValidationMessage","useEffect","evt","target","validity","valid","PopupWithForm","onSubmit","buttonText","isFormValid","noValidate","disabled","EditProfilePopup","onUpdateUser","description","setValidity","currentUser","setButtonText","setName","setDescription","inputChangers","inputHandler","inputValidity","newValidity","Object","assign","clearInput","setTimeout","preventDefault","then","catch","values","reduce","summ","currentItem","api","baseUrl","headers","this","_baseUrl","_headers","_defaultCheck","res","ok","json","Promise","reject","status","fetch","id","method","object","body","JSON","stringify","authorization","EditAvatarPopup","onUpdateAvatar","setUrl","AddPlacePopup","setTitle","App","editPopupState","setEditPopupState","addPopupState","setAddPopupState","avatarPopupState","setAvatarPopupState","deletePopupState","setDeletePopupState","imgPopupState","setImgPopupState","selectedCard","setSelectedCard","setCurrentUser","setCards","errShow","err","console","log","all","getUserInformation","getInitialCards","closeAllPopups","handleUpdateUser","a","isSucssesful","setUserInfo","resolve","handleUpdateAvatar","setUserAvatar","handleAddPlaceSubmit","createCard","newCard","handleDeleteSubmit","deleteCard","newCards","filter","Provider","likeShow","deleteLike","setLike","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.1e264f69.chunk.js","sourcesContent":["import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; {new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport const currentUser = {\r\n};","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({\r\n  onCardClick,\r\n  url,\r\n  title,\r\n  likes,\r\n  ownerId,\r\n  cardId,\r\n  onCardLike,\r\n  onCardDelete\r\n}) {\r\n  const { _id: userId } = React.useContext(CurrentUserContext);\r\n  const isLiked = likes.some((item) => {\r\n    return item._id === userId;\r\n  })\r\n  return (\r\n    <div className=\"card\">\r\n      <img\r\n        alt=\"Изображение карточки\"\r\n        className=\"card__image\"\r\n        onClick={() => {\r\n          onCardClick({\r\n            url: url,\r\n            title: title,\r\n          });\r\n        }}\r\n        src={url}\r\n      />\r\n      <h2 className=\"card__title\">{title}</h2>\r\n      <button\r\n      onClick = {() => {\r\n        onCardLike(cardId, isLiked)\r\n      }}\r\n        className={`card__like ${\r\n          isLiked && \"card__like_mode_active\"\r\n        }`}\r\n      ></button>\r\n      <p className=\"card__like-count\">{likes.length}</p>\r\n      {ownerId === userId && <button className=\"card__delete\" onClick={() => {onCardDelete(cardId)}}></button>}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  onLike, \r\n  onDelete\r\n}) \r\n{\r\n  const {name, about, avatar} = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__inner-wrapper profile__inner-wrapper_place_profile\">\r\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={avatar} />\r\n          <button\r\n            className=\"profile__avatar-overlay\"\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__inner-wrapper profile__inner-wrapper_place_name\">\r\n              <h1 className=\"profile__name\">{name}</h1>\r\n              <button\r\n                className=\"profile__edit-button\"\r\n                onClick={onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"card__container\">\r\n        {cards.map((item) => {\r\n          return (\r\n            <Card\r\n              onCardClick={onCardClick}\r\n              likes = {item.likes}\r\n              ownerId={item.owner._id}\r\n              key={item._id}\r\n              title={item.name}\r\n              url={item.link}\r\n              cardId={item._id}\r\n              onCardLike= {onLike}\r\n              onCardDelete= {onDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Popup({ isOpen, onClose, children,  }) {\r\n  return (\r\n    <div\r\n      className={`popup ${isOpen && \"popup_display_opened\"}`}\r\n    >\r\n      {children}\r\n      \r\n      <div className=\"popup__overlay\" onClick={onClose}></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport Popup from \"./Popup\"\r\n\r\nexport default function PopupWithImage({ isOpen, card, onClose}) {\r\n  return (\r\n    <Popup isOpen={isOpen}  onClose={onClose}>\r\n      <div className=\"popup__image-container\">\r\n        <img alt={card.title} className=\"popup__image\" src={card.url} />\r\n        <h2 className=\"popup__image-title\">{card.title}</h2>\r\n        <button className=\"popup__exit-button\" onClick={onClose}></button>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Input({name, pattern, required, placeholder, value, maxLength, minLength, onChange, type, update}) {\r\n\r\n  const [isInputValid, setIsInputValid] = React.useState(true);\r\n  const [validationMessage, setValidationMessage] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setIsInputValid(true);\r\n    setValidationMessage(\"\");\r\n  }, [update]);\r\n\r\n  const changeHandler = (evt) => {\r\n    onChange(evt.target.value, name, evt.target.validity.valid);\r\n    setIsInputValid(evt.target.validity.valid);\r\n    setValidationMessage(evt.target.validationMessage);\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      <input\r\n        type={type}\r\n        className={`popup__input ${\r\n          !isInputValid && \"popup__input_display_error\"\r\n        }`}\r\n        pattern={pattern}\r\n        name={name}\r\n        required={required}\r\n        placeholder={placeholder}\r\n        onChange={changeHandler}\r\n        value={value}\r\n        maxLength={maxLength}\r\n        minLength={minLength}\r\n      />\r\n      <span className=\"popup__input-error\">{validationMessage}</span>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\n\r\nimport Popup from \"./Popup\";\r\n\r\nexport default function PopupWithForm({\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  title,\r\n  buttonText,\r\n  children,\r\n  name,\r\n  isFormValid,\r\n}) {\r\n  return (\r\n    <Popup isOpen={isOpen} onClose={onClose}>\r\n      <form\r\n        className=\"popup__container\"\r\n        name={name}\r\n        noValidate\r\n        onSubmit={onSubmit}\r\n      >\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        {children}\r\n        <button\r\n          type=\"submit\"\r\n          className={`popup__save ${\r\n            !isFormValid && \"popup__save_display_error\"\r\n          }`}\r\n          disabled={!isFormValid && \"disabled\"}\r\n        >\r\n          {buttonText}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__exit-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </form>\r\n    </Popup>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Input from \"./ui/Input\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [validity, setValidity] = React.useState({\r\n    name: true,\r\n    description: true,\r\n  });\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n  const inputChangers = {\r\n    name: setName,\r\n    description: setDescription,\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  const inputHandler = (value, name, inputValidity) => {\r\n    inputChangers[name](value);\r\n    const newValidity = Object.assign({}, validity);\r\n    newValidity[name] = inputValidity;\r\n    setValidity(newValidity);\r\n  };\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    setButtonText(\"Сохранение...\");\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n      .then(() => {\r\n        clearInput();\r\n      })\r\n      .catch(() => {\r\n        setButtonText(\"Ошибка\");\r\n      });\r\n  };\r\n  const clearInput = () => {\r\n    setTimeout(() => {\r\n      setValidity({ name: true, description: true });\r\n      setButtonText(\"Сохранить\");\r\n    }, 200);\r\n  };\r\n  const isFormValid = () => {\r\n    return Object.values(validity).reduce((summ, currentItem) => {\r\n      return summ && currentItem;\r\n    });\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={() => {\r\n        onClose();\r\n        clearInput();\r\n      }}\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit\"\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isFormValid={isFormValid()}\r\n    >\r\n      <Input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        pattern=\"[ёЁА-Яа-яA-Za-z -]{1,}\"\r\n        value={name || \"\"}\r\n        update={isOpen}\r\n        onChange={inputHandler}\r\n      />\r\n      <Input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        name=\"description\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        update={isOpen}\r\n        value={description || \"\"}\r\n        onChange={inputHandler}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { apiOptions } from \"./constants.js\";\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    this._defaultCheck = (res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    };\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, { headers: this._headers }).then(\r\n      this._defaultCheck\r\n    );\r\n  }\r\n\r\n  getUserInformation() {\r\n    return fetch(`${this._baseUrl}/users/me`, { headers: this._headers }).then(\r\n      this._defaultCheck\r\n    );\r\n  }\r\n\r\n  setLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._defaultCheck);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._defaultCheck);\r\n  }\r\n\r\n  setUserInfo(object) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(object),\r\n    }).then(this._defaultCheck);\r\n  }\r\n\r\n  setUserAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(link),\r\n    }).then(this._defaultCheck);\r\n  }\r\n\r\n  createCard(card) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(card),\r\n    }).then(this._defaultCheck);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._defaultCheck);\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiOptions);\r\n","import React from \"react\";\r\nexport const apiOptions = {\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-12\",\r\n  headers: {\r\n    authorization: \"10d0cab2-3de3-42ea-80c8-2e15574d2bdb\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\nexport const popupsInfo = [\r\n  {\r\n    name: \"avatar\",\r\n    title: \"Обновить аватар\",\r\n    buttonTitle: \"Сохранить\",\r\n    children: (\r\n      <>\r\n        <input\r\n          type=\"url\"\r\n          className=\"popup__input\"\r\n          pattern=\".+\\.(jpg|png)\"\r\n          name=\"avatar\"\r\n          required\r\n          placeholder=\"Введите ссылку\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"avatar-error\"></span>\r\n      </>\r\n    ),\r\n  },\r\n  {\r\n    name: \"delete\",\r\n    title: \"Вы уверены?\",\r\n    buttonTitle: \"Да\",\r\n  },\r\n  {\r\n    name: \"edit\",\r\n    title: \"Редактировать профиль\",\r\n    buttonTitle: \"Сохранить\",\r\n    children: (\r\n      <>\r\n        <input\r\n          type=\"text\"\r\n          className=\"popup__input\"\r\n          name=\"forename\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          pattern=\"[ёЁА-Яа-яA-Za-z -]{1,}\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"forename-error\"></span>\r\n        <input\r\n          type=\"text\"\r\n          className=\"popup__input\"\r\n          name=\"job\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"job-error\"></span>\r\n      </>\r\n    ),\r\n  },\r\n  {\r\n    name: \"add\",\r\n    title: \"Новое место\",\r\n    buttonTitle: \"Создать\",\r\n    children: (\r\n      <>\r\n        <input\r\n          type=\"text\"\r\n          className=\"popup__input\"\r\n          name=\"title\"\r\n          required\r\n          placeholder=\"Название\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"title-error\"></span>\r\n        <input\r\n          type=\"url\"\r\n          className=\"popup__input\"\r\n          pattern=\".+\\.(jpg|png)\"\r\n          name=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"url-error\"></span>\r\n      </>\r\n    ),\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport Input from \"./ui/Input\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\r\n  const [validity, setValidity] = React.useState(false);\r\n //  const inputRef = React.useRef() если использовать ref\r\n  const [url, setUrl] = React.useState('');\r\n  const inputHandler = (value, name ,validity) => {\r\n    setUrl(value)\r\n    setValidity(validity)\r\n  };\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    setButtonText(\"Сохранение...\");\r\n    // onUpdateAvatar(inputRef.current.value) если использовать ref\r\n    onUpdateAvatar (url)\r\n      .then(() => {\r\n        clearInput()\r\n      })\r\n      .catch(() => {\r\n        setButtonText(\"Ошибка\");\r\n      });\r\n  };\r\n  const clearInput = () => {\r\n    setTimeout(()=> {setUrl(''); setButtonText(\"Сохранить\")}, 200)\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={() => {onClose(); clearInput()}}\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isFormValid={validity}\r\n    >\r\n      <Input\r\n  //     ref={inputRef} если использовать ref, и использовать обычный input\r\n        type=\"url\"\r\n        className=\"popup__input\"\r\n        pattern=\".+\\.(jpg|png)\"\r\n        name=\"avatar\"\r\n        required\r\n        placeholder=\"Введите ссылку\"\r\n        value={url}\r\n        update={isOpen} \r\n        onChange={inputHandler}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Input from \"./ui/Input\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n    const [validity, setValidity] = React.useState({title: false, url: false});\r\n  const [buttonText, setButtonText] = React.useState(\"Создать\");\r\n  const [title, setTitle] = React.useState('')\r\n  const [url, setUrl] = React.useState('');\r\n const inputChangers = {\r\n     title: setTitle,\r\n     url: setUrl\r\n }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    setButtonText(\"Создание...\");\r\n\r\n    onAddPlace({ name: title, link: url})\r\n      .then(() => {\r\n        clearInput()\r\n      })\r\n      .catch(() => {\r\n        setButtonText(\"Ошибка\");\r\n      });\r\n  };\r\n  const inputHandler = (value, name, inputValidity) => {\r\n    inputChangers[name](value)\r\n    const newValidity = Object.assign({}, validity);\r\n    newValidity[name] = inputValidity;\r\n    setValidity(newValidity); \r\n   }\r\n   const clearInput = () => {\r\n    setTimeout(()=> {setUrl(''); setTitle(''); setValidity({title: false, url: false}); setButtonText(\"Создать\")}, 200)\r\n  }\r\n  const isFormValid = () => {\r\n        return Object.values(validity).reduce((summ, currentItem) => {\r\n          return summ && currentItem;\r\n        });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={() => {onClose(); clearInput()}}\r\n      title=\"Новое место\"\r\n      name=\"add\"\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isFormValid={isFormValid()}\r\n    >\r\n              <Input\r\n          type=\"text\"\r\n          className=\"popup__input\"\r\n          name=\"title\"\r\n          required\r\n          placeholder=\"Название\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          value={title || ''}\r\n          update={isOpen}\r\n          onChange={inputHandler}\r\n        />\r\n         <Input\r\n          type=\"url\"\r\n          className=\"popup__input\"\r\n          pattern=\".+\\.(jpg|png)\"\r\n          name=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          update={isOpen}\r\n          value={url || ''}\r\n          onChange={inputHandler}\r\n        /> \r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onDelete }) {\r\n    const [buttonText, setButtonText] = React.useState(\"Да\");\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    setButtonText(\"Удаление...\");\r\n\r\n    onDelete()\r\n      .then(() => {\r\n        setButtonText(\"Да\");\r\n      })\r\n      .catch(() => {\r\n        setButtonText(\"Ошибка\");\r\n      });\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Вы уверены?\"\r\n      name=\"delete\"\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isFormValid\r\n    >\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport PopupWithImage from \"./PopupWithImage\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport { api } from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup'\r\n\r\nexport default function App() {\r\n  const [editPopupState, setEditPopupState] = React.useState(false);\r\n  const [addPopupState, setAddPopupState] = React.useState(false);\r\n  const [avatarPopupState, setAvatarPopupState] = React.useState(false);\r\n  const [deletePopupState, setDeletePopupState] = React.useState(false);\r\n  const [imgPopupState, setImgPopupState] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] =React.useState([])\r\n  const errShow = (err) => console.log(err)\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInformation(), api.getInitialCards()])\r\n      .then((value) => {\r\n        setCurrentUser(value[0]);\r\n        setCards(value[1])\r\n      })\r\n      .catch(errShow);\r\n  }, []);\r\n\r\n  \r\n \r\n\r\n  const handleCardLike = (id, isLiked) => {\r\n    const likeShow = newCard => {\r\n      const newCards =   cards.map(card => card._id === newCard._id ? newCard : card);\r\n      setCards(newCards)\r\n    }\r\n    if (isLiked) {\r\n      api.deleteLike(id).then(likeShow).catch(errShow);\r\n    } else {\r\n      api.setLike(id).then(likeShow).catch(errShow);\r\n    }\r\n  }\r\n\r\n  const handleCardDelete = (id) => { \r\n    setSelectedCard({id})\r\n    setDeletePopupState(true)\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setEditPopupState(false);\r\n    setAddPopupState(false);\r\n    setAvatarPopupState(false);\r\n    setDeletePopupState(false);\r\n    setImgPopupState(false);\r\n    setSelectedCard({});\r\n  };\r\n\r\n  const isEditProfilePopupOpen = () => {\r\n    setEditPopupState(true);\r\n  };\r\n\r\n  const isAddPlacePopupOpen = () => {\r\n    setAddPopupState(true);\r\n  };\r\n\r\n  const isEditAvatarPopupOpen = () => {\r\n    setAvatarPopupState(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setImgPopupState(true);\r\n    setSelectedCard(card);\r\n  };\r\n  const handleUpdateUser = async (object) => {\r\n    let isSucssesful = false;\r\n    await api\r\n      .setUserInfo(object)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n        isSucssesful = true;\r\n      })\r\n      .catch(errShow);\r\n    if (isSucssesful) {\r\n      return Promise.resolve();\r\n    }\r\n    return Promise.reject();\r\n  };\r\n  const handleUpdateAvatar = async (avatar) => {\r\n    let isSucssesful = false;\r\n    await api\r\n      .setUserAvatar({avatar})\r\n      .then((res) => {\r\n        setCurrentUser(res); \r\n        closeAllPopups();\r\n        isSucssesful = true;\r\n      })\r\n      .catch(errShow);\r\n    if (isSucssesful) {\r\n      return Promise.resolve();\r\n    }\r\n    return Promise.reject();\r\n  };\r\n  const handleAddPlaceSubmit = async (card) => {\r\n    let isSucssesful = false;\r\n    await api\r\n      .createCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards ]); \r\n        closeAllPopups();\r\n        isSucssesful = true;\r\n      })\r\n      .catch(errShow);\r\n    if (isSucssesful) {\r\n      return Promise.resolve();\r\n    }\r\n    return Promise.reject();\r\n  }\r\n  const handleDeleteSubmit = async () => {\r\n    let isSucssesful = false;\r\n    await api.deleteCard(selectedCard.id)\r\n      .then((card) => {\r\n        const newCards = cards.filter(card => card._id !== selectedCard.id);\r\n      setCards(newCards)\r\n        closeAllPopups();\r\n        isSucssesful = true;\r\n      })\r\n      .catch(errShow);\r\n    if (isSucssesful) {\r\n      return Promise.resolve();\r\n    }\r\n    return Promise.reject();\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        onEditAvatar={isEditAvatarPopupOpen}\r\n        onEditProfile={isEditProfilePopupOpen}\r\n        onAddPlace={isAddPlacePopupOpen}\r\n        onCardClick={handleCardClick}\r\n        cards= {cards}\r\n        onLike= {handleCardLike}\r\n        onDelete = {handleCardDelete}\r\n      />\r\n      <Footer />\r\n      <PopupWithImage\r\n        onClose={closeAllPopups}\r\n        card={selectedCard}\r\n        isOpen={imgPopupState}\r\n      />\r\n      <EditProfilePopup\r\n        isOpen={editPopupState}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={avatarPopupState}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n      <AddPlacePopup \r\n      isOpen={addPopupState}\r\n      onClose={closeAllPopups}\r\n      onAddPlace={handleAddPlaceSubmit}\r\n      />\r\n      <DeleteCardPopup\r\n      isOpen={deletePopupState}\r\n      onClose={closeAllPopups}\r\n      onDelete={handleDeleteSubmit}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App.js\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.e889e45f.svg\";"],"sourceRoot":""}